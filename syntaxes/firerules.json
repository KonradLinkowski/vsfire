{
   "//": "https://manual.macromates.com/en/language_grammars",
   "comment": "Firestore Rules Syntax: version 1.0",
   "scopeName": "source.firerules",
   "fileTypes": [
      "rule",
      "rules"
   ],
   "firstLineMatch": "^service cloud.firestore",
   "foldingStartMarker": "^\\{\\s*$",
   "foldingStopMarker": "^\\s*\\}",
   "name": "Firebase Rules",
   "patterns": [
      {
         "match": "\\b((0(x|X)[0-9a-fA-F]+)|([0-9]+(\\.[0-9]+)?))\\b",
         "name": "constant.numeric"
      }, {
         "match": "\\/\\/.*",
         "name": "comment"
      }, {
         "match": "\\b(service|match|exists|get)\\b",
         "name": "support.function"
      }, {
         "match": "\\b(allow|if)\\b",
         "name": "keyword.control"
      }, {
         "match": "\\b(read|write)\\b",
         "name": "storage.modifier"
      }, {
         "match": "(=|!|>|<|\\||&)",
         "name": "keyword.operator"
      }, {
         "match": "\\b(true|false|null)\\b",
         "name": "constant.language"
      }, {
         "comment": "Match variable",
         "match": "\\/({[^}]+})[\\s\\/]",
         "captures": {
            "1": { "name": "variable.parameter" }
         }
      },{
         "comment": "request time object",
         "match": "\\b(request)\\.(time)\\.(date|year|month|day|time|hours|minutes|seconds|nanos|dayOfWeek|dayOfYear|toMillis)\\(",
         "captures": {
            "1": { "name": "support.type" },
            "2": { "name": "support.variable" },
            "3": { "name": "support.function.builtin" }
         }
      }, {
         "comment": "request object",
         "match": "\\b(request)\\.(auth|path|resource|time)\\b",
         "captures": {
            "1": { "name": "support.type" },
            "2": { "name": "support.type" }
         }
      }, {
         "comment": "math object",
         "match": "\\b(math)\\.(ceil|floor|round|abs|isInfinite|isNaN)\\(",
         "captures": {
            "1": { "name": "support.type" },
            "2": { "name": "support.function.builtin" }
         }
      }, {
         "comment": "document object",
         "match": "\\b(document)\\.(size|matches)\\(",
         "captures": {
            "1": { "name": "support.type" },
            "2": { "name": "entity.name.function" }
         }
      }, {
         "comment": "bare objects",
         "match": "\\b(request|math|document|user|duration)\\b",
         "name": "support.type"
      }
   ]
 }