{
   "//": "https://manual.macromates.com/en/language_grammars",
   "comment": "Firestore Rules Syntax: version 1.1",
   "scopeName": "source.firerules",
   "fileTypes": [
      "rule",
      "rules"
   ],
   "firstLineMatch": "^service cloud.firestore",
   "foldingStartMarker": "^\\{\\s*$",
   "foldingStopMarker": "^\\s*\\}",
   "name": "Firebase Rules",
   "patterns": [
      {
         "match": "\\b(\\d+)\\b",
         "name": "constant.numeric"
      }, {
         "match": "\\/\\/.*",
         "name": "comment"
      }, {
         "comment": "Function",
         "match": "[\\.\\s\\(]([a-zA-Z]+)(?=\\()",
         "captures": {
            "1": { "name": "support.function" }
         }
      }, {
         "comment": "Global functions without parentheses",
         "match": "^\\s*(service|match|allow)(?=\\s)",
         "captures": {
            "1": { "name": "support.function" }
         }
      }, {
         "match": "\\b(if|return|is)\\b",
         "name": "keyword.control"
      }, {
         "comment": "Access control",
         "match": "\\s(get|list|read|update|delete|write)[,:]",
         "captures": {
            "1": { "name": "storage.modifier" }
         }
      }, {
         "match": "(=|!|>|<|\\||&)",
         "name": "keyword.operator"
      }, {
         "match": "\\b(true|false|null|in)\\b",
         "name": "constant.language"
      }, {
         "comment": "Any type",
         "match": "[\\s\\.\\(]([a-zA-Z]+)(?=[\\.\\)])",
         "captures": {
            "1": { "name": "support.type" }
         }
      }, {
         "comment": "Path match variable",
         "match": "\\/({[^}]+})[\\s\\/]",
         "captures": {
            "1": { "name": "variable.parameter" }
         }
      }, {
         "comment": "Basic types",
         "match": "\\b(request|math|document|user|duration|string|int|cloud)\\b",
         "name": "support.type"
      }, {
         "comment": "Strings",
         "match": "[\\\"\\'].*?[\\\"\\']",
         "name": "string.quoted"
     }
   ]
 }